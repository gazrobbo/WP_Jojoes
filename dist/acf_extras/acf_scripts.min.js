"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var headerLayouts="",changeHeader="",showMainEditor="",sectionLayouts="",mainEditor="";function highlight_section(e){var t=document.querySelector(e.target.dataset.ignClass);null!==t&&(e.target.checked?(t.classList.add("highlight"),$("html, body").animate({scrollTop:$(e.target.dataset.ignClass).offset().top-50},200)):t.classList.remove("highlight"))}function changeIgnClasses(e){var t=e.getAttribute("data-ign-class"),a=e.closest(".acf-fields").querySelector(t);if(null==a&&(a=e.closest(t)),null==a&&(a=document.querySelector(t)),null!=a){if(e.getAttribute("data-last-value")){var r,n=e.getAttribute("data-last-value").split(" ");n=n.filter(Boolean),(r=a.classList).remove.apply(r,_toConsumableArray(n))}if(" "!==e.value&&e.value){var s,l="";if("checkbox"===e.type)l=e.checked?"checked":"unchecked",a.classList.add(l),e.setAttribute("data-last-value",l);else l=(l=e.value.split(" ")).filter(Boolean),(s=a.classList).add.apply(s,_toConsumableArray(l)),e.setAttribute("data-last-value",e.value)}}}function addDraggableGrid(){var s=document.querySelector("#poststuff"),l=0,o="",i=document.querySelectorAll(".mce-container iframe");function t(e){e.preventDefault(),e.stopPropagation(),i.forEach(function(e){e.style.pointerEvents="none"}),s.style.cursor="ew-resize",$gridType=o.closest(".acf-fields").querySelector('[data-ign-class=".grid-class"]'),$gridType.value.includes("card-grid")&&($gridType.value=$gridType.value.replace("card-grid","grid"),changeIgnClasses($gridType)),$gridType.value.includes("grid")||($gridType.value+=" grid",$gridType.value=$gridType.value.trim(),changeIgnClasses($gridType));var t=o.querySelector("[data-ign-class]"),a=t.value,r=6;a.includes("span")&&(r=/span-(\d+)/g.exec(a)[1],r=parseInt(r),a=a.replace(/span-\d+/g,"")),0!==l&&e.pageX>l+100&&(r<12&&r++,l+=100),0!==l&&e.pageX<l-100&&(1<r&&r--,l-=100);var n="span-"+r+" "+a;n=n.trim(),t.value=n,changeIgnClasses(t)}s.addEventListener("mousedown",function(e){e.target.matches(".grid-class .acf-row-handle.remove")&&(l=e.pageX,o=e.target.previousElementSibling.closest(".acf-row"),i=document.querySelectorAll(".mce-container iframe"),window.addEventListener("mousemove",t,!0))}),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",t,!0),i.forEach(function(e){e.style.pointerEvents="auto"}),s.style.cursor="auto"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-ign-class]").forEach(function(e){changeIgnClasses(e)}),addDraggableGrid()}),document.addEventListener("change",function(e){e.target.matches("[data-ign-class]")&&changeIgnClasses(e.target)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZl9leHRyYXMvYWNmX3NjcmlwdHMuanMiXSwibmFtZXMiOlsiaGVhZGVyTGF5b3V0cyIsImNoYW5nZUhlYWRlciIsInNob3dNYWluRWRpdG9yIiwic2VjdGlvbkxheW91dHMiLCJtYWluRWRpdG9yIiwiaGlnaGxpZ2h0X3NlY3Rpb24iLCJlIiwiYWNmU2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiaWduQ2xhc3MiLCJjaGVja2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwiJCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJyZW1vdmUiLCJjaGFuZ2VJZ25DbGFzc2VzIiwiYWNmSW5wdXQiLCJkYXRhVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZXN0IiwiX2FjZlNlbGVjdG9yJGNsYXNzTGlzIiwibGFzdFZhbHVlcyIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidmFsdWUiLCJfYWNmU2VsZWN0b3IkY2xhc3NMaXMyIiwiY2xhc3NlcyIsInR5cGUiLCJzZXRBdHRyaWJ1dGUiLCJhZGREcmFnZ2FibGVHcmlkIiwiYWNmRmllbGRzIiwicGFnZVgiLCJtY2VJZnJhbWVzIiwicXVlcnlTZWxlY3RvckFsbCIsImRyYWdHcmlkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJmb3JFYWNoIiwiaXRlbSIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsImN1cnNvciIsIiRncmlkVHlwZSIsImluY2x1ZGVzIiwicmVwbGFjZSIsInRyaW0iLCJncmlkSW5wdXQiLCJvbGRWYWx1ZSIsInNwYW4iLCJleGVjIiwicGFyc2VJbnQiLCJuZXdWYWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYXRjaGVzIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhY2ZpbnB1dCIs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QixFQUFVc0IsaUJBQWlCLFlBQWEsU0FBVXhELEdBQzdDQSxFQUFFSSxPQUFPcUQsUUFBUSx3Q0FHcEJ0QixFQUFRbkMsRUFBRW1DLE1BRVZsQyxFQUFjRCxFQUFFSSxPQUFPc0QsdUJBQXVCdEMsUUFBUSxZQUl0RGdCLEVBQWFsQyxTQUFTbUMsaUJBQWlCLHlCQUN2Q3NCLE9BQU9ILGlCQUFpQixZQUFhbEIsR0FBVSxNQUtqRHFCLE9BQU9ILGlCQUFpQixVQUFXLFdBRWxDRyxPQUFPQyxvQkFBb0IsWUFBYXRCLEdBQVUsR0FFbERGLEVBQVdLLFFBQVEsU0FBQUMsR0FDbEJBLEVBQUtDLE1BQU1DLGNBQWdCLFNBRzVCVixFQUFVUyxNQUFNRSxPQUFTLFNBeEczQjNDLFNBQVNzRCxpQkFBaUIsbUJBQW9CLFdBRXJCdEQsU0FBU21DLGlCQUFpQixvQkFDaENJLFFBQVEsU0FBQW9CLEdBQ3pCN0MsaUJBQWlCNkMsS0FHbEI1QixxQkFLRC9CLFNBQVNzRCxpQkFBaUIsU0FBVSxTQUFVTSxHQUN6Q0EsRUFBTTFELE9BQU9xRCxRQUFRLHFCQUN4QnpDLGlCQUFpQjhDLEVBQU0xRCIsImZpbGUiOiJhY2ZfZXh0cmFzL2FjZl9zY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBoZWFkZXJMYXlvdXRzID0gJyc7XG5sZXQgY2hhbmdlSGVhZGVyID0gJyc7XG5sZXQgc2hvd01haW5FZGl0b3IgPSAnJztcbmxldCBzZWN0aW9uTGF5b3V0cyA9ICcnO1xubGV0IG1haW5FZGl0b3IgPSAnJztcblxuLy9ob29rIGludG8gcHJlcGFyZSB0byBsb2FkIGFmdGVyIGFjZiBsb2FkcyBmaWVsZHNcbi8vIGFjZi5hZGRBY3Rpb24oJ3ByZXBhcmUnLCBmdW5jdGlvbiAoKSB7XG5cblx0Ly9hdXRvIGNvbGxhcHNlIGFsbCBzZWN0aW9ucyBpZiBmb3VuZFxuXHQvLyBzZWN0aW9uTGF5b3V0cyA9IGFjZi5nZXRQb3N0Ym94KCdhY2YtZ3JvdXBfNWFhNmE5MjRiMDJmZicpO1xuXHQvLyBcdC8vIGlmICh0eXBlb2Ygc2VjdGlvbkxheW91dHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdC8vIFx0Ly8gXHRzZWN0aW9uTGF5b3V0cyA9IHNlY3Rpb25MYXlvdXRzLiRlbDtcblx0Ly8gXHQvLyBcdHNlY3Rpb25MYXlvdXRzLmZpbmQoJy52YWx1ZXMgLmxheW91dCcpLmFkZENsYXNzKCctY29sbGFwc2VkJyk7XG5cdC8vIFx0Ly8gfVxuXG5cdC8vbW92ZSBoZWFkZXIgbGF5b3V0IGFib3ZlIGVkaXRvciBpZiBmb3VuZFxuXHQvLyBoZWFkZXJMYXlvdXRzID0gYWNmLmdldFBvc3Rib3goJ2FjZi1ncm91cF81YTc5ZmExYmFmMDA3Jyk7XG5cdC8vIGlmICh0eXBlb2YgaGVhZGVyTGF5b3V0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0Ly8gXHRtYWluRWRpdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RkaXZyaWNoJyk7XG5cdC8vXG5cdC8vIFx0Ly9tb3ZlIGhlYWRlciBzZWN0aW9uIHVuZGVyIHRpdGxlLCBhYm92ZSBlZGl0b3Jcblx0Ly8gXHRpZiAoaGVhZGVyTGF5b3V0cy5sZW5ndGggJiYgbWFpbkVkaXRvciAhPT0gbnVsbCkge1xuXHQvLyBcdFx0bGV0IHBvc3RCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3QtYm9keS1jb250ZW50Jyk7XG5cdC8vIFx0XHRwb3N0Qm9keS5pbnNlcnRCZWZvcmUoaGVhZGVyTGF5b3V0c1swXSwgbWFpbkVkaXRvcik7XG5cdC8vIFx0fVxuXHQvLyB9XG5cblx0Ly93aGVuIHRoZXNlIGNoZWNib3hlcyBhcmUgdG9nZ2xlZCBzY3JvbGwgdG8gdGhlIHNlY3Rpb24gc2hvd25cblx0Ly8gc2hvd01haW5FZGl0b3IgPSBhY2YuZ2V0RmllbGQoJ2ZpZWxkXzVjNWY3ZTJkY2Y0MGYnKS4kZWw7XG5cdC8vIGNoYW5nZUhlYWRlciA9IGFjZi5nZXRGaWVsZCgnZmllbGRfNWM0YjY2YTY1YWUyYycpLiRlbDtcblx0Ly9cblx0Ly8gaWYgKHNob3dNYWluRWRpdG9yLmxlbmd0aCkge1xuXHQvLyBcdGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmxvY2stZWRpdG9yX19jb250YWluZXInKSAhPT0gbnVsbCkge1xuXHQvLyBcdFx0c2hvd01haW5FZGl0b3IuaGlkZSgpOyAvL2hpZGUgaWYgYmxvY2sgZWRpdG9yIGlzIHNob3dpbmdcblx0Ly8gXHR9XG5cdC8vXG5cdC8vIFx0c2hvd01haW5FZGl0b3JbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGlnaGxpZ2h0X3NlY3Rpb24pO1xuXHQvLyB9XG5cdC8vXG5cdC8vIGlmIChjaGFuZ2VIZWFkZXIubGVuZ3RoKSB7XG5cdC8vIFx0Y2hhbmdlSGVhZGVyWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhpZ2hsaWdodF9zZWN0aW9uKTtcblx0Ly8gfVxuXG4vLyB9KTtcblxuLy9oaWdobGlnaHQgYW5kIHNjcm9sbCB0byB0aGlzIHNlY3Rpb25cbmZ1bmN0aW9uIGhpZ2hsaWdodF9zZWN0aW9uIChlKSB7XG5cblx0bGV0IGFjZlNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlLnRhcmdldC5kYXRhc2V0LmlnbkNsYXNzKTtcblxuXHRpZiAoYWNmU2VsZWN0b3IgIT09IG51bGwpIHtcblx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuXHRcdFx0YWNmU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XG5cdFx0XHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG5cdFx0XHRcdHNjcm9sbFRvcDogJChlLnRhcmdldC5kYXRhc2V0LmlnbkNsYXNzKS5vZmZzZXQoKS50b3AgLSA1MFxuXHRcdFx0fSwgMjAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWNmU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XG5cdFx0fVxuXHR9XG59XG5cbi8vVE9HR0xFIENMQVNTRVMgQkFTRUQgT04gREFUQS1JR04tQ0xBU1NFU1xuLy9tdXN0IGJlIHRleHQgaW5wdXQgb3IgdHJ1ZS9mYWxzZSBjaGVja2JveFxuXG4vL29uIGxvYWQgc2V0IHRoZSBjbGFzc2VzXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXHQvL2dldCB0aGUgZGF0YSBhdHRyaWJ1dGVcblx0bGV0IGlnbmRhdGFhdHRyaWJ1dGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaWduLWNsYXNzXScpO1xuXHRpZ25kYXRhYXR0cmlidXRlcy5mb3JFYWNoKGFjZmlucHV0ID0+IHtcblx0XHRjaGFuZ2VJZ25DbGFzc2VzKGFjZmlucHV0KTtcblx0fSk7XG5cblx0YWRkRHJhZ2dhYmxlR3JpZCgpO1xuXG59KTtcblxuLy9hbnl0aW1lIHRoaXMgaW5wdXQgY2hhbmdlcywgY2hhbmdlIHRoZSBjbGFzc1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdGlmIChldmVudC50YXJnZXQubWF0Y2hlcygnW2RhdGEtaWduLWNsYXNzXScpKSB7XG5cdFx0Y2hhbmdlSWduQ2xhc3NlcyhldmVudC50YXJnZXQpO1xuXHR9XG59KTtcblxuLy90aGUgbWFnaWMgb2YgaWduIGRhdGEgY2xhc3NcbmZ1bmN0aW9uIGNoYW5nZUlnbkNsYXNzZXMgKGFjZklucHV0KSB7XG5cdC8vdG8gZG8gYW55dGhpbmcgdGhlcmUgbXVzdCBiZSBhIHZhbHVlIHNldFxuXHRsZXQgZGF0YVZhbHVlID0gYWNmSW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlnbi1jbGFzcycpO1xuXG5cdC8vZmluZCB0aGUgZGF0YSBhdHRyaWJ1dGUgYXMgYSBzZWxlY3RvclxuXHQvL2ZpcnN0IGdvIHVwIG9ubHkgdG8gdGhlIG5lYXJlc3Qgc2V0IG9mIGZpZWxkcy4gaWYgbm90aGluZyBpcyBmb3VuZCBxdWVyeSBhbGwgdGhlIHdheSB1cC5cblx0bGV0IGFjZlNlbGVjdG9yID0gYWNmSW5wdXQuY2xvc2VzdCgnLmFjZi1maWVsZHMnKS5xdWVyeVNlbGVjdG9yKGRhdGFWYWx1ZSk7XG5cdGlmIChhY2ZTZWxlY3RvciA9PSBudWxsKSB7XG5cdFx0YWNmU2VsZWN0b3IgPSBhY2ZJbnB1dC5jbG9zZXN0KGRhdGFWYWx1ZSk7XG5cdH1cblx0aWYgKGFjZlNlbGVjdG9yID09IG51bGwpIHtcblx0XHRhY2ZTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YVZhbHVlKTtcblx0fVxuXG5cdC8vY2Fubm90IGZpbmQgdGhlbiByZXV0cm5cblx0aWYgKGFjZlNlbGVjdG9yID09IG51bGwpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvL2lmIGZvdW5kIHNlbGVjdG9yLCByZW1vdmUgcHJldmlvdXMgdmFsdWVzIGlmIGFueVxuXHRpZiAoYWNmSW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWxhc3QtdmFsdWUnKSkge1xuXHRcdGxldCBsYXN0VmFsdWVzID0gYWNmSW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWxhc3QtdmFsdWUnKS5zcGxpdCgnICcpO1xuXHRcdGxhc3RWYWx1ZXMgPSBsYXN0VmFsdWVzLmZpbHRlcihCb29sZWFuKTsgLy9yZW1vdmUgYW55IGVtcHR5IHN0cmluZ3Ncblx0XHRhY2ZTZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKC4uLmxhc3RWYWx1ZXMpO1xuXHR9XG5cblx0Ly9zZXQgY2xhc3Mgb24gdGhlIHF1ZXJpZWQgc2VsZWN0b3IgaWYgdGhlcmUgaXMgYSB2YWx1ZSBvciBhIGNoZWNrIGlmIGNoZWNrYm94XG5cdGlmIChhY2ZJbnB1dC52YWx1ZSAhPT0gJyAnICYmIGFjZklucHV0LnZhbHVlKSB7XG5cdFx0bGV0IGNsYXNzZXMgPSAnJztcblxuXHRcdC8vdHJ1L2ZhbHNlIHR5cGUuXG5cdFx0aWYgKGFjZklucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdGNsYXNzZXMgPSBhY2ZJbnB1dC5jaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCc7XG5cdFx0XHRhY2ZTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKGNsYXNzZXMpO1xuXHRcdFx0YWNmSW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLWxhc3QtdmFsdWUnLCBjbGFzc2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly90ZXh0IHR5cGVcblx0XHRcdGNsYXNzZXMgPSBhY2ZJbnB1dC52YWx1ZS5zcGxpdCgnICcpOyAvL2lmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgY2xhc3Ncblx0XHRcdGNsYXNzZXMgPSBjbGFzc2VzLmZpbHRlcihCb29sZWFuKTsgLy9nZXQgcmlkIG9mIGFueSBzcGFjZXMsIHRoZXkgYXJlIG5vdCBjbGFzc2VzLlxuXHRcdFx0YWNmU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcblx0XHRcdGFjZklucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1sYXN0LXZhbHVlJywgYWNmSW5wdXQudmFsdWUpO1xuXHRcdH1cblxuXHR9XG5cbn1cblxuLy9kcmFnZ2FibGUgZ3JpZCEhIE5vdyB1c2VycyBjYW4gZHJhZyBncmlkIGJveGVzIGluIGFkbWluIGFyZWEgaW5zdGVhZCBvZiBhZGRpbmcgY2xhc3NlcyBmb3IgaXRcbi8vdGhpcyBmdW5jdGlvbiBhZGRlZCB3aGVuIGRvbSBpcyBsb2FkZWQgdXNpbmcgYWJvdmUgbGlzdGVuZXJcbmZ1bmN0aW9uIGFkZERyYWdnYWJsZUdyaWQgKCkge1xuXHQvL2dldCB0b3AgbW9zdCBhY2YtZmllbGRzIHdoaWNoIGhvbGRzIGV2ZXJ5dGhpbmdcblx0bGV0IGFjZkZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0c3R1ZmYnKTtcblxuXHQvL3N0YXJ0IGRyYWdnZXIgYXQgMFxuXHRsZXQgcGFnZVggPSAwO1xuXG5cdC8vc2VsZWN0b3JzIGJhc2VkIG9uIHdoYXQgaXMgZHJhZ2dlZFxuXHRsZXQgYWNmU2VsZWN0b3IgPSAnJztcblx0bGV0IG1jZUlmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWNlLWNvbnRhaW5lciBpZnJhbWUnKTtcblxuXHQvL3doZW4gYW55dGhpbmcgaW5zaWRlIGZpZWxkcyBpcyBjbGlja2VkIGFuZCBtYXRjaGVzIHRoZSBoYW5kbGUtcmVtb3ZlIGFuZCB0aGVuIGlzIGRyYWdnZWRcblx0YWNmRmllbGRzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5ncmlkLWNsYXNzIC5hY2Ytcm93LWhhbmRsZS5yZW1vdmUnKSkge1xuXHRcdFx0Ly9jb25zb2xlLmxvZygnbW91c2UgZG93bicpO1xuXHRcdFx0Ly9zZXQgY29vcmRpbmF0ZXNcblx0XHRcdHBhZ2VYID0gZS5wYWdlWDtcblx0XHRcdC8vZ2V0IHRoaXMgZmllbGQgaXRlbVxuXHRcdFx0YWNmU2VsZWN0b3IgPSBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsb3Nlc3QoJy5hY2Ytcm93Jyk7XG5cblx0XHRcdC8vb24gZHJhZ1xuXHRcdFx0Ly9mcmFtZXMgbmVlZGVkIGZvciBmaXggc28gd2hlbiB5b3UgZHJhZyBvdmVyIGl0IGRvZXNudCBicmVhay5cblx0XHRcdG1jZUlmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWNlLWNvbnRhaW5lciBpZnJhbWUnKTtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnR3JpZCwgdHJ1ZSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvL2FueXdoZXJlIHdoZXJlIG1vdXNlIGlzIGxpZnRlZFxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcblx0XHQvL3JlbW92ZSBkcmFnXG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGRyYWdHcmlkLCB0cnVlKTtcblx0XHQvL2ZpeCBpZnJhbWVzXG5cdFx0bWNlSWZyYW1lcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aXRlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuXHRcdH0pO1xuXG5cdFx0YWNmRmllbGRzLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcblx0fSk7XG5cblx0Ly9hbGxvdyBkcmFnZ2luZyFcblx0ZnVuY3Rpb24gZHJhZ0dyaWQgKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdC8vcmVtb3ZlIGlmcmFtZSBpc3N1ZXMgYnkgZGlzYWJsaW5nIGNsaWNrIGZvciBhIHdoaWxlXG5cdFx0bWNlSWZyYW1lcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aXRlbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXHRcdH0pO1xuXG5cdFx0Ly9tYWtlIG1vdXNlIGxvb2sgbGlrZSByZXNpemluZ1xuXHRcdGFjZkZpZWxkcy5zdHlsZS5jdXJzb3IgPSAnZXctcmVzaXplJztcblxuXHRcdC8vc2V0IGNhcmQtZ3JpZCB0byBncmlkIGF1dG9tYXRpY2FsbHlcblx0XHQkZ3JpZFR5cGUgPSBhY2ZTZWxlY3Rvci5jbG9zZXN0KCcuYWNmLWZpZWxkcycpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWlnbi1jbGFzcz1cIi5ncmlkLWNsYXNzXCJdJyk7XG5cdFx0aWYgKCRncmlkVHlwZS52YWx1ZS5pbmNsdWRlcygnY2FyZC1ncmlkJykpIHtcblx0XHRcdCRncmlkVHlwZS52YWx1ZSA9ICRncmlkVHlwZS52YWx1ZS5yZXBsYWNlKCdjYXJkLWdyaWQnLCAnZ3JpZCcpO1xuXHRcdFx0Y2hhbmdlSWduQ2xhc3NlcygkZ3JpZFR5cGUpO1xuXHRcdH1cblxuXHRcdGlmICghJGdyaWRUeXBlLnZhbHVlLmluY2x1ZGVzKCdncmlkJykpIHtcblx0XHRcdCRncmlkVHlwZS52YWx1ZSArPSAnIGdyaWQnO1xuXHRcdFx0JGdyaWRUeXBlLnZhbHVlID0gJGdyaWRUeXBlLnZhbHVlLnRyaW0oKTtcblx0XHRcdGNoYW5nZUlnbkNsYXNzZXMoJGdyaWRUeXBlKTtcblx0XHR9XG5cblx0XHQvL3NldCB0aGUgZ3JpZCB2YWx1ZXMgYW5kIHVwZGF0ZVxuXHRcdGxldCBncmlkSW5wdXQgPSBhY2ZTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZ24tY2xhc3NdJyk7XG5cdFx0bGV0IG9sZFZhbHVlID0gZ3JpZElucHV0LnZhbHVlO1xuXHRcdGxldCBzcGFuID0gNjtcblxuXHRcdGlmIChvbGRWYWx1ZS5pbmNsdWRlcygnc3BhbicpKSB7XG5cdFx0XHRzcGFuID0gL3NwYW4tKFxcZCspL2cuZXhlYyhvbGRWYWx1ZSlbMV07XG5cdFx0XHRzcGFuID0gcGFyc2VJbnQoc3Bhbik7XG5cdFx0XHRvbGRWYWx1ZSA9IG9sZFZhbHVlLnJlcGxhY2UoL3NwYW4tXFxkKy9nLCAnJyk7IC8vcmVtb3ZlIHNwYW4gZnJvbSB2YWx1ZVxuXHRcdH1cblxuXHRcdGlmIChwYWdlWCAhPT0gMCAmJiBlLnBhZ2VYID4gcGFnZVggKyAxMDApIHtcblx0XHRcdC8vYmlnZ2VyIHNwYW5cblx0XHRcdGlmIChzcGFuIDwgMTIpIHtcblx0XHRcdFx0c3BhbisrO1xuXHRcdFx0fVxuXHRcdFx0cGFnZVggKz0gMTAwO1xuXHRcdH1cblxuXHRcdGlmIChwYWdlWCAhPT0gMCAmJiBlLnBhZ2VYIDwgcGFnZVggLSAxMDApIHtcblx0XHRcdC8vc21hbGxlciBzcGFuXG5cdFx0XHRpZiAoc3BhbiA+IDEpIHtcblx0XHRcdFx0c3Bhbi0tO1xuXHRcdFx0fVxuXHRcdFx0cGFnZVggLT0gMTAwO1xuXHRcdH1cblxuXHRcdC8vc2V0IGFjdHVhbCB2YWx1ZSBhbmQgdXBkYXRlXG5cdFx0bGV0IG5ld1ZhbHVlID0gJ3NwYW4tJyArIHNwYW4gKyAnICcgKyBvbGRWYWx1ZTtcblx0XHRuZXdWYWx1ZSA9IG5ld1ZhbHVlLnRyaW0oKTtcblx0XHRncmlkSW5wdXQudmFsdWUgPSBuZXdWYWx1ZTtcblx0XHRjaGFuZ2VJZ25DbGFzc2VzKGdyaWRJbnB1dCk7XG5cdH1cbn1cbiJdfQ==