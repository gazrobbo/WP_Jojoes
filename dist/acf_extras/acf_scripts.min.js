"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var headerLayouts="",changeHeader="",showMainEditor="",sectionLayouts="",mainEditor="";function highlight_section(e){var t=document.querySelector(e.target.dataset.ignClass);null!==t&&(e.target.checked?(t.classList.add("highlight"),$("html, body").animate({scrollTop:$(e.target.dataset.ignClass).offset().top-50},200)):t.classList.remove("highlight"))}function changeIgnClasses(e){var t=e.getAttribute("data-ign-class"),a=e.closest(".acf-fields").querySelector(t);if(null==a&&(a=e.closest(t)),null==a&&(a=document.querySelector(t)),null!=a){if(e.getAttribute("data-last-value")){var r,n=e.getAttribute("data-last-value").split(" ");n=n.filter(Boolean),(r=a.classList).remove.apply(r,_toConsumableArray(n))}if(" "!==e.value&&e.value){var o,s="";if("checkbox"===e.type)s=e.checked?"checked":"unchecked",a.classList.add(s),e.setAttribute("data-last-value",s);else s=(s=e.value.split(" ")).filter(Boolean),(o=a.classList).add.apply(o,_toConsumableArray(s)),e.setAttribute("data-last-value",e.value)}}}function addDraggableGrid(){var o=document.querySelector("#poststuff"),s=0,i="",l=document.querySelectorAll(".mce-container iframe");function t(e){e.preventDefault(),e.stopPropagation(),l.forEach(function(e){e.style.pointerEvents="none"}),o.style.cursor="ew-resize",$gridType=i.closest(".acf-fields").querySelector('[data-ign-class=".grid-class"]'),$gridType.value.includes("card-grid")&&($gridType.value=$gridType.value.replace("card-grid","grid"),changeIgnClasses($gridType)),$gridType.value.includes("grid")||($gridType.value+=" grid",$gridType.value=$gridType.value.trim(),changeIgnClasses($gridType));var t=i.querySelector("[data-ign-class]"),a=t.value,r=6;a.includes("span")&&(r=/span-(\d+)/g.exec(a)[1],r=parseInt(r),a=a.replace(/span-\d+/g,"")),0!==s&&e.pageX>s+100&&(r<12&&r++,s+=100),0!==s&&e.pageX<s-100&&(1<r&&r--,s-=100);var n="span-"+r+" "+a;n=n.trim(),t.value=n,changeIgnClasses(t)}o.addEventListener("mousedown",function(e){e.target.matches(".grid-class .acf-row-handle.remove")&&(s=e.pageX,i=e.target.previousElementSibling.closest(".acf-row"),l=document.querySelectorAll(".mce-container iframe"),window.addEventListener("mousemove",t,!0))}),window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",t,!0),l.forEach(function(e){e.style.pointerEvents="auto"}),o.style.cursor="auto"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-ign-class]").forEach(function(e){changeIgnClasses(e)}),addDraggableGrid()}),document.addEventListener("change",function(e){e.target.matches("[data-ign-class]")&&changeIgnClasses(e.target)});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZl9leHRyYXMvYWNmX3NjcmlwdHMuanMiXSwibmFtZXMiOlsiaGVhZGVyTGF5b3V0cyIsImNoYW5nZUhlYWRlciIsInNob3dNYWluRWRpdG9yIiwic2VjdGlvbkxheW91dHMiLCJtYWluRWRpdG9yIiwiaGlnaGxpZ2h0X3NlY3Rpb24iLCJlIiwiYWNmU2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiaWduQ2xhc3MiLCJjaGVja2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwiJCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJyZW1vdmUiLCJjaGFuZ2VJZ25DbGFzc2VzIiwiYWNmSW5wdXQiLCJkYXRhVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZXN0IiwiX2FjZlNlbGVjdG9yJGNsYXNzTGlzIiwibGFzdFZhbHVlcyIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwidmFsdWUiLCJfYWNmU2VsZWN0b3IkY2xhc3NMaXMyIiwiY2xhc3NlcyIsInR5cGUiLCJzZXRBdHRyaWJ1dGUiLCJhZGREcmFnZ2FibGVHcmlkIiwiYWNmRmllbGRzIiwicGFnZVgiLCJtY2VJZnJhbWVzIiwicXVlcnlTZWxlY3RvckFsbCIsImRyYWdHcmlkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJmb3JFYWNoIiwiaXRlbSIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsImN1cnNvciIsIiRncmlkVHlwZSIsImluY2x1ZGVzIiwicmVwbGFjZSIsInRyaW0iLCJncmlkSW5wdXQiLCJvbGRWYWx1ZSIsInNwYW4iLCJleGVjIiwicGFyc2VJbnQiLCJuZXdWYWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYXRjaGVzIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhY2ZpbnB1dCIs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aEIsRUFBVXNCLGlCQUFpQixZQUFhLFNBQVV4RCxHQUM3Q0EsRUFBRUksT0FBT3FELFFBQVEsd0NBR3BCdEIsRUFBUW5DLEVBQUVtQyxNQUVWbEMsRUFBY0QsRUFBRUksT0FBT3NELHVCQUF1QnRDLFFBQVEsWUFJdERnQixFQUFhbEMsU0FBU21DLGlCQUFpQix5QkFDdkNzQixPQUFPSCxpQkFBaUIsWUFBYWxCLEdBQVUsTUFLakRxQixPQUFPSCxpQkFBaUIsVUFBVyxXQUVsQ0csT0FBT0Msb0JBQW9CLFlBQWF0QixHQUFVLEdBRWxERixFQUFXSyxRQUFRLFNBQUFDLEdBQ2xCQSxFQUFLQyxNQUFNQyxjQUFnQixTQUc1QlYsRUFBVVMsTUFBTUUsT0FBUyxTQXhHM0IzQyxTQUFTc0QsaUJBQWlCLG1CQUFvQixXQUVyQnRELFNBQVNtQyxpQkFBaUIsb0JBQ2hDSSxRQUFRLFNBQUFvQixHQUN6QjdDLGlCQUFpQjZDLEtBR2xCNUIscUJBS0QvQixTQUFTc0QsaUJBQWlCLFNBQVUsU0FBVU0sR0FDekNBLEVBQU0xRCxPQUFPcUQsUUFBUSxxQkFDeEJ6QyxpQkFBaUI4QyxFQUFNMUQiLCJmaWxlIjoiYWNmX2V4dHJhcy9hY2Zfc2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaGVhZGVyTGF5b3V0cyA9ICcnO1xubGV0IGNoYW5nZUhlYWRlciA9ICcnO1xubGV0IHNob3dNYWluRWRpdG9yID0gJyc7XG5sZXQgc2VjdGlvbkxheW91dHMgPSAnJztcbmxldCBtYWluRWRpdG9yID0gJyc7XG5cbi8vaG9vayBpbnRvIHByZXBhcmUgdG8gbG9hZCBhZnRlciBhY2YgbG9hZHMgZmllbGRzXG4vLyBhY2YuYWRkQWN0aW9uKCdwcmVwYXJlJywgZnVuY3Rpb24gKCkge1xuXG5cdC8vYXV0byBjb2xsYXBzZSBhbGwgc2VjdGlvbnMgaWYgZm91bmRcblx0Ly8gc2VjdGlvbkxheW91dHMgPSBhY2YuZ2V0UG9zdGJveCgnYWNmLWdyb3VwXzVhYTZhOTI0YjAyZmYnKTtcblx0Ly8gXHQvLyBpZiAodHlwZW9mIHNlY3Rpb25MYXlvdXRzICE9PSAndW5kZWZpbmVkJykge1xuXHQvLyBcdC8vIFx0c2VjdGlvbkxheW91dHMgPSBzZWN0aW9uTGF5b3V0cy4kZWw7XG5cdC8vIFx0Ly8gXHRzZWN0aW9uTGF5b3V0cy5maW5kKCcudmFsdWVzIC5sYXlvdXQnKS5hZGRDbGFzcygnLWNvbGxhcHNlZCcpO1xuXHQvLyBcdC8vIH1cblxuXHQvL21vdmUgaGVhZGVyIGxheW91dCBhYm92ZSBlZGl0b3IgaWYgZm91bmRcblx0Ly8gaGVhZGVyTGF5b3V0cyA9IGFjZi5nZXRQb3N0Ym94KCdhY2YtZ3JvdXBfNWE3OWZhMWJhZjAwNycpO1xuXHQvLyBpZiAodHlwZW9mIGhlYWRlckxheW91dHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdC8vIFx0bWFpbkVkaXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0ZGl2cmljaCcpO1xuXHQvL1xuXHQvLyBcdC8vbW92ZSBoZWFkZXIgc2VjdGlvbiB1bmRlciB0aXRsZSwgYWJvdmUgZWRpdG9yXG5cdC8vIFx0aWYgKGhlYWRlckxheW91dHMubGVuZ3RoICYmIG1haW5FZGl0b3IgIT09IG51bGwpIHtcblx0Ly8gXHRcdGxldCBwb3N0Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3N0LWJvZHktY29udGVudCcpO1xuXHQvLyBcdFx0cG9zdEJvZHkuaW5zZXJ0QmVmb3JlKGhlYWRlckxheW91dHNbMF0sIG1haW5FZGl0b3IpO1xuXHQvLyBcdH1cblx0Ly8gfVxuXG5cdC8vd2hlbiB0aGVzZSBjaGVjYm94ZXMgYXJlIHRvZ2dsZWQgc2Nyb2xsIHRvIHRoZSBzZWN0aW9uIHNob3duXG5cdC8vIHNob3dNYWluRWRpdG9yID0gYWNmLmdldEZpZWxkKCdmaWVsZF81YzVmN2UyZGNmNDBmJykuJGVsO1xuXHQvLyBjaGFuZ2VIZWFkZXIgPSBhY2YuZ2V0RmllbGQoJ2ZpZWxkXzVjNGI2NmE2NWFlMmMnKS4kZWw7XG5cdC8vXG5cdC8vIGlmIChzaG93TWFpbkVkaXRvci5sZW5ndGgpIHtcblx0Ly8gXHRpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJsb2NrLWVkaXRvcl9fY29udGFpbmVyJykgIT09IG51bGwpIHtcblx0Ly8gXHRcdHNob3dNYWluRWRpdG9yLmhpZGUoKTsgLy9oaWRlIGlmIGJsb2NrIGVkaXRvciBpcyBzaG93aW5nXG5cdC8vIFx0fVxuXHQvL1xuXHQvLyBcdHNob3dNYWluRWRpdG9yWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhpZ2hsaWdodF9zZWN0aW9uKTtcblx0Ly8gfVxuXHQvL1xuXHQvLyBpZiAoY2hhbmdlSGVhZGVyLmxlbmd0aCkge1xuXHQvLyBcdGNoYW5nZUhlYWRlclswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoaWdobGlnaHRfc2VjdGlvbik7XG5cdC8vIH1cblxuLy8gfSk7XG5cbi8vaGlnaGxpZ2h0IGFuZCBzY3JvbGwgdG8gdGhpcyBzZWN0aW9uXG5mdW5jdGlvbiBoaWdobGlnaHRfc2VjdGlvbiAoZSkge1xuXG5cdGxldCBhY2ZTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZS50YXJnZXQuZGF0YXNldC5pZ25DbGFzcyk7XG5cblx0aWYgKGFjZlNlbGVjdG9yICE9PSBudWxsKSB7XG5cdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpIHtcblx0XHRcdGFjZlNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuXHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuXHRcdFx0XHRzY3JvbGxUb3A6ICQoZS50YXJnZXQuZGF0YXNldC5pZ25DbGFzcykub2Zmc2V0KCkudG9wIC0gNTBcblx0XHRcdH0sIDIwMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFjZlNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xuXHRcdH1cblx0fVxufVxuXG4vL1RPR0dMRSBDTEFTU0VTIEJBU0VEIE9OIERBVEEtSUdOLUNMQVNTRVNcbi8vbXVzdCBiZSB0ZXh0IGlucHV0IG9yIHRydWUvZmFsc2UgY2hlY2tib3hcblxuLy9vbiBsb2FkIHNldCB0aGUgY2xhc3Nlc1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0Ly9nZXQgdGhlIGRhdGEgYXR0cmlidXRlXG5cdGxldCBpZ25kYXRhYXR0cmlidXRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWlnbi1jbGFzc10nKTtcblx0aWduZGF0YWF0dHJpYnV0ZXMuZm9yRWFjaChhY2ZpbnB1dCA9PiB7XG5cdFx0Y2hhbmdlSWduQ2xhc3NlcyhhY2ZpbnB1dCk7XG5cdH0pO1xuXG5cdGFkZERyYWdnYWJsZUdyaWQoKTtcblxufSk7XG5cbi8vYW55dGltZSB0aGlzIGlucHV0IGNoYW5nZXMsIGNoYW5nZSB0aGUgY2xhc3NcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xuXHRpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJ1tkYXRhLWlnbi1jbGFzc10nKSkge1xuXHRcdGNoYW5nZUlnbkNsYXNzZXMoZXZlbnQudGFyZ2V0KTtcblx0fVxufSk7XG5cbi8vdGhlIG1hZ2ljIG9mIGlnbiBkYXRhIGNsYXNzXG5mdW5jdGlvbiBjaGFuZ2VJZ25DbGFzc2VzIChhY2ZJbnB1dCkge1xuXHQvL3RvIGRvIGFueXRoaW5nIHRoZXJlIG11c3QgYmUgYSB2YWx1ZSBzZXRcblx0bGV0IGRhdGFWYWx1ZSA9IGFjZklucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZ24tY2xhc3MnKTtcblxuXHQvL2ZpbmQgdGhlIGRhdGEgYXR0cmlidXRlIGFzIGEgc2VsZWN0b3Jcblx0Ly9maXJzdCBnbyB1cCBvbmx5IHRvIHRoZSBuZWFyZXN0IHNldCBvZiBmaWVsZHMuIGlmIG5vdGhpbmcgaXMgZm91bmQgcXVlcnkgYWxsIHRoZSB3YXkgdXAuXG5cdGxldCBhY2ZTZWxlY3RvciA9IGFjZklucHV0LmNsb3Nlc3QoJy5hY2YtZmllbGRzJykucXVlcnlTZWxlY3RvcihkYXRhVmFsdWUpO1xuXHRpZiAoYWNmU2VsZWN0b3IgPT0gbnVsbCkge1xuXHRcdGFjZlNlbGVjdG9yID0gYWNmSW5wdXQuY2xvc2VzdChkYXRhVmFsdWUpO1xuXHR9XG5cdGlmIChhY2ZTZWxlY3RvciA9PSBudWxsKSB7XG5cdFx0YWNmU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGFWYWx1ZSk7XG5cdH1cblxuXHQvL2Nhbm5vdCBmaW5kIHRoZW4gcmV1dHJuXG5cdGlmIChhY2ZTZWxlY3RvciA9PSBudWxsKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly9pZiBmb3VuZCBzZWxlY3RvciwgcmVtb3ZlIHByZXZpb3VzIHZhbHVlcyBpZiBhbnlcblx0aWYgKGFjZklucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1sYXN0LXZhbHVlJykpIHtcblx0XHRsZXQgbGFzdFZhbHVlcyA9IGFjZklucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1sYXN0LXZhbHVlJykuc3BsaXQoJyAnKTtcblx0XHRsYXN0VmFsdWVzID0gbGFzdFZhbHVlcy5maWx0ZXIoQm9vbGVhbik7IC8vcmVtb3ZlIGFueSBlbXB0eSBzdHJpbmdzXG5cdFx0YWNmU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSguLi5sYXN0VmFsdWVzKTtcblx0fVxuXG5cdC8vc2V0IGNsYXNzIG9uIHRoZSBxdWVyaWVkIHNlbGVjdG9yIGlmIHRoZXJlIGlzIGEgdmFsdWUgb3IgYSBjaGVjayBpZiBjaGVja2JveFxuXHRpZiAoYWNmSW5wdXQudmFsdWUgIT09ICcgJyAmJiBhY2ZJbnB1dC52YWx1ZSkge1xuXHRcdGxldCBjbGFzc2VzID0gJyc7XG5cblx0XHQvL3RydS9mYWxzZSB0eXBlLlxuXHRcdGlmIChhY2ZJbnB1dC50eXBlID09PSAnY2hlY2tib3gnKSB7XG5cdFx0XHRjbGFzc2VzID0gYWNmSW5wdXQuY2hlY2tlZCA/ICdjaGVja2VkJyA6ICd1bmNoZWNrZWQnO1xuXHRcdFx0YWNmU2VsZWN0b3IuY2xhc3NMaXN0LmFkZChjbGFzc2VzKTtcblx0XHRcdGFjZklucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1sYXN0LXZhbHVlJywgY2xhc3Nlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vdGV4dCB0eXBlXG5cdFx0XHRjbGFzc2VzID0gYWNmSW5wdXQudmFsdWUuc3BsaXQoJyAnKTsgLy9pZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGNsYXNzXG5cdFx0XHRjbGFzc2VzID0gY2xhc3Nlcy5maWx0ZXIoQm9vbGVhbik7IC8vZ2V0IHJpZCBvZiBhbnkgc3BhY2VzLCB0aGV5IGFyZSBub3QgY2xhc3Nlcy5cblx0XHRcdGFjZlNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG5cdFx0XHRhY2ZJbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbGFzdC12YWx1ZScsIGFjZklucHV0LnZhbHVlKTtcblx0XHR9XG5cblx0fVxuXG59XG5cbi8vZHJhZ2dhYmxlIGdyaWQhISBOb3cgdXNlcnMgY2FuIGRyYWcgZ3JpZCBib3hlcyBpbiBhZG1pbiBhcmVhIGluc3RlYWQgb2YgYWRkaW5nIGNsYXNzZXMgZm9yIGl0XG4vL3RoaXMgZnVuY3Rpb24gYWRkZWQgd2hlbiBkb20gaXMgbG9hZGVkIHVzaW5nIGFib3ZlIGxpc3RlbmVyXG5mdW5jdGlvbiBhZGREcmFnZ2FibGVHcmlkICgpIHtcblx0Ly9nZXQgdG9wIG1vc3QgYWNmLWZpZWxkcyB3aGljaCBob2xkcyBldmVyeXRoaW5nXG5cdGxldCBhY2ZGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9zdHN0dWZmJyk7XG5cblx0Ly9zdGFydCBkcmFnZ2VyIGF0IDBcblx0bGV0IHBhZ2VYID0gMDtcblxuXHQvL3NlbGVjdG9ycyBiYXNlZCBvbiB3aGF0IGlzIGRyYWdnZWRcblx0bGV0IGFjZlNlbGVjdG9yID0gJyc7XG5cdGxldCBtY2VJZnJhbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1jZS1jb250YWluZXIgaWZyYW1lJyk7XG5cblx0Ly93aGVuIGFueXRoaW5nIGluc2lkZSBmaWVsZHMgaXMgY2xpY2tlZCBhbmQgbWF0Y2hlcyB0aGUgaGFuZGxlLXJlbW92ZSBhbmQgdGhlbiBpcyBkcmFnZ2VkXG5cdGFjZkZpZWxkcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKCcuZ3JpZC1jbGFzcyAuYWNmLXJvdy1oYW5kbGUucmVtb3ZlJykpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ21vdXNlIGRvd24nKTtcblx0XHRcdC8vc2V0IGNvb3JkaW5hdGVzXG5cdFx0XHRwYWdlWCA9IGUucGFnZVg7XG5cdFx0XHQvL2dldCB0aGlzIGZpZWxkIGl0ZW1cblx0XHRcdGFjZlNlbGVjdG9yID0gZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy5jbG9zZXN0KCcuYWNmLXJvdycpO1xuXG5cdFx0XHQvL29uIGRyYWdcblx0XHRcdC8vZnJhbWVzIG5lZWRlZCBmb3IgZml4IHNvIHdoZW4geW91IGRyYWcgb3ZlciBpdCBkb2VzbnQgYnJlYWsuXG5cdFx0XHRtY2VJZnJhbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1jZS1jb250YWluZXIgaWZyYW1lJyk7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZHJhZ0dyaWQsIHRydWUpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly9hbnl3aGVyZSB3aGVyZSBtb3VzZSBpcyBsaWZ0ZWRcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly9yZW1vdmUgZHJhZ1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnR3JpZCwgdHJ1ZSk7XG5cdFx0Ly9maXggaWZyYW1lc1xuXHRcdG1jZUlmcmFtZXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGl0ZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblx0XHR9KTtcblxuXHRcdGFjZkZpZWxkcy5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG5cdH0pO1xuXG5cdC8vYWxsb3cgZHJhZ2dpbmchXG5cdGZ1bmN0aW9uIGRyYWdHcmlkIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHQvL3JlbW92ZSBpZnJhbWUgaXNzdWVzIGJ5IGRpc2FibGluZyBjbGljayBmb3IgYSB3aGlsZVxuXHRcdG1jZUlmcmFtZXMuZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGl0ZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblx0XHR9KTtcblxuXHRcdC8vbWFrZSBtb3VzZSBsb29rIGxpa2UgcmVzaXppbmdcblx0XHRhY2ZGaWVsZHMuc3R5bGUuY3Vyc29yID0gJ2V3LXJlc2l6ZSc7XG5cblx0XHQvL3NldCBjYXJkLWdyaWQgdG8gZ3JpZCBhdXRvbWF0aWNhbGx5XG5cdFx0JGdyaWRUeXBlID0gYWNmU2VsZWN0b3IuY2xvc2VzdCgnLmFjZi1maWVsZHMnKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pZ24tY2xhc3M9XCIuZ3JpZC1jbGFzc1wiXScpO1xuXHRcdGlmICgkZ3JpZFR5cGUudmFsdWUuaW5jbHVkZXMoJ2NhcmQtZ3JpZCcpKSB7XG5cdFx0XHQkZ3JpZFR5cGUudmFsdWUgPSAkZ3JpZFR5cGUudmFsdWUucmVwbGFjZSgnY2FyZC1ncmlkJywgJ2dyaWQnKTtcblx0XHRcdGNoYW5nZUlnbkNsYXNzZXMoJGdyaWRUeXBlKTtcblx0XHR9XG5cblx0XHRpZiAoISRncmlkVHlwZS52YWx1ZS5pbmNsdWRlcygnZ3JpZCcpKSB7XG5cdFx0XHQkZ3JpZFR5cGUudmFsdWUgKz0gJyBncmlkJztcblx0XHRcdCRncmlkVHlwZS52YWx1ZSA9ICRncmlkVHlwZS52YWx1ZS50cmltKCk7XG5cdFx0XHRjaGFuZ2VJZ25DbGFzc2VzKCRncmlkVHlwZSk7XG5cdFx0fVxuXG5cdFx0Ly9zZXQgdGhlIGdyaWQgdmFsdWVzIGFuZCB1cGRhdGVcblx0XHRsZXQgZ3JpZElucHV0ID0gYWNmU2VsZWN0b3IucXVlcnlTZWxlY3RvcignW2RhdGEtaWduLWNsYXNzXScpO1xuXHRcdGxldCBvbGRWYWx1ZSA9IGdyaWRJbnB1dC52YWx1ZTtcblx0XHRsZXQgc3BhbiA9IDY7XG5cblx0XHRpZiAob2xkVmFsdWUuaW5jbHVkZXMoJ3NwYW4nKSkge1xuXHRcdFx0c3BhbiA9IC9zcGFuLShcXGQrKS9nLmV4ZWMob2xkVmFsdWUpWzFdO1xuXHRcdFx0c3BhbiA9IHBhcnNlSW50KHNwYW4pO1xuXHRcdFx0b2xkVmFsdWUgPSBvbGRWYWx1ZS5yZXBsYWNlKC9zcGFuLVxcZCsvZywgJycpOyAvL3JlbW92ZSBzcGFuIGZyb20gdmFsdWVcblx0XHR9XG5cblx0XHRpZiAocGFnZVggIT09IDAgJiYgZS5wYWdlWCA+IHBhZ2VYICsgMTAwKSB7XG5cdFx0XHQvL2JpZ2dlciBzcGFuXG5cdFx0XHRpZiAoc3BhbiA8IDEyKSB7XG5cdFx0XHRcdHNwYW4rKztcblx0XHRcdH1cblx0XHRcdHBhZ2VYICs9IDEwMDtcblx0XHR9XG5cblx0XHRpZiAocGFnZVggIT09IDAgJiYgZS5wYWdlWCA8IHBhZ2VYIC0gMTAwKSB7XG5cdFx0XHQvL3NtYWxsZXIgc3BhblxuXHRcdFx0aWYgKHNwYW4gPiAxKSB7XG5cdFx0XHRcdHNwYW4tLTtcblx0XHRcdH1cblx0XHRcdHBhZ2VYIC09IDEwMDtcblx0XHR9XG5cblx0XHQvL3NldCBhY3R1YWwgdmFsdWUgYW5kIHVwZGF0ZVxuXHRcdGxldCBuZXdWYWx1ZSA9ICdzcGFuLScgKyBzcGFuICsgJyAnICsgb2xkVmFsdWU7XG5cdFx0bmV3VmFsdWUgPSBuZXdWYWx1ZS50cmltKCk7XG5cdFx0Z3JpZElucHV0LnZhbHVlID0gbmV3VmFsdWU7XG5cdFx0Y2hhbmdlSWduQ2xhc3NlcyhncmlkSW5wdXQpO1xuXHR9XG59XG4iXX0=